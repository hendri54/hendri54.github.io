


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.12">
    
    
      
        <title>Writing Solid Code - Lutz Hendricks</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4dd2dd8d.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.6a5ad368.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#writing-solid-code" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Lutz Hendricks" class="md-header-nav__button md-logo" aria-label="Lutz Hendricks">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Lutz Hendricks
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Writing Solid Code
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lutz Hendricks" class="md-nav__button md-logo" aria-label="Lutz Hendricks">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Lutz Hendricks
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Research
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Research" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Research
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Research/CV_LutzHendricks.pdf" title="CV" class="md-nav__link">
      CV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Research/research.html" title="Human capital" class="md-nav__link">
      Human capital
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Research/research_other.html" title="Other topics" class="md-nav__link">
      Other topics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Research/computer_code.html" title="Computer code" class="md-nav__link">
      Computer code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Graduate teaching
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Graduate teaching" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Graduate teaching
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../econ720/econ720.html" title="Econ720" class="md-nav__link">
      Econ720
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../econ890.html" title="Econ890" class="md-nav__link">
      Econ890
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graduate/graduate.html" title="Graduate notes" class="md-nav__link">
      Graduate notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Undergraduate teaching
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Undergraduate teaching" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Undergraduate teaching
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../econ520/econ520.html" title="Econ520" class="md-nav__link">
      Econ520
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teaching/teaching.html" title="Teaching notes" class="md-nav__link">
      Teaching notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Thoughts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Thoughts" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Thoughts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../thoughts/forums.html" title="Economics discussion forums" class="md-nav__link">
      Economics discussion forums
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../thoughts/specialization.html" title="Economists need to specialize" class="md-nav__link">
      Economists need to specialize
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../thoughts/duplication.html" title="Avoid reinventing the wheel" class="md-nav__link">
      Avoid reinventing the wheel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../thoughts/quantitative_models.html" title="On simple models calibrated using little data" class="md-nav__link">
      On simple models calibrated using little data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../thoughts/models_beliefs.html" title="Models and beliefs" class="md-nav__link">
      Models and beliefs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../thoughts/micro_macro.html" title="Micro versus macro models" class="md-nav__link">
      Micro versus macro models
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Julia Language
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Julia Language" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Julia Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/intro.html" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/installation.html" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/arrays.html" title="Arrays" class="md-nav__link">
      Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/clusters.html" title="Clusters" class="md-nav__link">
      Clusters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/debugging.html" title="Debugging" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/documentation.html" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/packages.html" title="Packages" class="md-nav__link">
      Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/performance.html" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/plotting.html" title="Plotting" class="md-nav__link">
      Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/regressions.html" title="Regressions" class="md-nav__link">
      Regressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/clusters.html" title="Remote clusters" class="md-nav__link">
      Remote clusters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/testing.html" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../julia_notes/types.html" title="Types" class="md-nav__link">
      Types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structured-programming" class="md-nav__link">
    Structured Programming
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-down-design" class="md-nav__link">
    Top Down Design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reusable-code" class="md-nav__link">
    Reusable code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-rules" class="md-nav__link">
    Some rules
  </a>
  
    <nav class="md-nav" aria-label="Some rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#style-matters" class="md-nav__link">
    Style matters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-test-test" class="md-nav__link">
    Test, test, test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-literals" class="md-nav__link">
    Avoid literals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-globals" class="md-nav__link">
    Avoid globals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimization" class="md-nav__link">
    Optimization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#material-for-economists" class="md-nav__link">
    Material for Economists
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#material-not-for-economists" class="md-nav__link">
    Material Not for Economists
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="writing-solid-code">Writing Solid Code<a class="headerlink" href="#writing-solid-code" title="Permanent link">&para;</a></h1>
<p>This section discusses general programming concepts.</p>
<p>The key idea: </p>
<blockquote>
<p>It's about structure, not algorithms.</p>
</blockquote>
<h2 id="structured-programming">Structured Programming<a class="headerlink" href="#structured-programming" title="Permanent link">&para;</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Structured_programming">Structured Programming</a> is an old concept that is now essentially baked into programming languages.</p>
<p>The original idea was to avoid "spaghetti code" where <code>go to</code> statements were used to jump around the code. This is no longer an issue. But the broader ideas remain important.</p>
<p>One key insight is that code needs to be readable and maintainable. Good code reads a lot like text.</p>
<p>A long process is broken down into a few steps. Each step becomes a function that carries out exactly one task (ideally). </p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span> <span class="n">run_model</span><span class="p">()</span>
  <span class="n">m</span> <span class="o">=</span> <span class="n">initialize_model</span><span class="p">();</span>
  <span class="n">sol</span> <span class="o">=</span> <span class="n">solve_model</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
  <span class="n">sim</span> <span class="o">=</span> <span class="n">simulate_model</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">sol</span><span class="p">);</span>
  <span class="n">show_results</span><span class="p">(</span><span class="n">sim</span><span class="p">);</span>
<span class="k">end</span>
</code></pre></div>

<p>Notes:</p>
<ol>
<li>The code is self-explanatory. There is little need for comments.</li>
<li>All objects are passed explicitly into and out of functions. <ol>
<li>No side-effects.</li>
<li>No global states.</li>
</ol>
</li>
<li>The main function is short.</li>
<li>The flow is linear.</li>
</ol>
<h2 id="top-down-design">Top Down Design<a class="headerlink" href="#top-down-design" title="Permanent link">&para;</a></h2>
<p>One daunting task is to go from the problem description</p>
<blockquote>
<p>Solve and simulate the model. Generate figures.</p>
</blockquote>
<p>to the actual code. The task seems unmanageably big.</p>
<p>The idea of <a href="http://www.eecs.wsu.edu/~cs150/tdd.htm">top down by stepwise refinement</a> design is to simply write out at a high level of abstraction which steps need to be taken.</p>
<p>The top level of the code could literally look like the example above.</p>
<p>Then each step gets refined. For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span> <span class="n">solve_model</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    <span class="n">sol</span> <span class="o">=</span> <span class="n">initialize_solution</span><span class="p">();</span>
    <span class="n">solve_household!</span><span class="p">(</span><span class="n">sol</span><span class="p">,</span> <span class="n">m</span><span class="p">);</span>
    <span class="n">solve_firm!</span><span class="p">(</span><span class="n">sol</span><span class="p">,</span> <span class="n">m</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">sol</span>
<span class="k">end</span>
</code></pre></div>

<p>Note:</p>
<ol>
<li>The function is again short.</li>
<li>All steps are at the <em>same level of abstraction</em>.</li>
<li>Each function performs exactly one task.</li>
</ol>
<p>At some point, we arrive at a task that is sufficiently small that we write actual code.</p>
<ul>
<li>Some people first write <a href="https://en.wikipedia.org/wiki/Pseudocode">pseudo code</a>.</li>
<li>Others just write the code directly.</li>
<li>It depends on how easy the task is.</li>
</ul>
<p>Then, right away, write <a href="testing.html">unit tests</a>. Really.</p>
<h2 id="reusable-code">Reusable code<a class="headerlink" href="#reusable-code" title="Permanent link">&para;</a></h2>
<p>Quite a bit of code is not project specific. </p>
<p>Examples: Utility functions, production functions, helpers for figures and tables.</p>
<p>It pays off over time to make this code generic / reusable and factor it out into a separate package.</p>
<h2 id="some-rules">Some rules<a class="headerlink" href="#some-rules" title="Permanent link">&para;</a></h2>
<h3 id="style-matters">Style matters<a class="headerlink" href="#style-matters" title="Permanent link">&para;</a></h3>
<p>This point is hard to overstate. It is extremely important to write code that is easy to understand and easy to maintain. </p>
<p>In practice, you often revisit programs months or years after they were written. They need to be well documented and well structured.</p>
<p>The programs needed to solve a stochastic OLG model have thousands of lines of code. 
The only way to understand something this complex is to break it into logical, self-contained pieces (a function that solves the household problem, another that solves the firm problem, etc.).</p>
<p>One example of how important this is: </p>
<blockquote>
<p>Air traffic control centers still operate with hardware from the 1970s. The reason is that nobody understands the software well enough to port it to new hardware. 
The FAA has already spent billions of dollars on unsuccessful attempts to rewrite this mess.</p>
</blockquote>
<p>Another example is the Space Shuttle, which runs (now "ran") on hardware from the 1960s. The reason is again that the software engineers can no longer understand the existing code.</p>
<p>There are many books on good programming style. One that I like is <em>Writing Solid Code</em> by Steve Maguire. Read it!</p>
<h3 id="test-test-test">Test, test, test<a class="headerlink" href="#test-test-test" title="Permanent link">&para;</a></h3>
<p>Write small functions with lots of automated unit tests.</p>
<p>It may seem like a waste of time to test something that is "obviously correct." But remember:</p>
<blockquote>
<p>One typo turns the obviously correct function into a very hard to find bug.</p>
</blockquote>
<p>Code that is not general purpose (or very performance critical) should contain lots of self-testing code. </p>
<p>Catching bugs early makes them easier to find.</p>
<p>A trick to prevent your code from getting slowed down by self-testing:</p>
<ul>
<li>add a debugging switch as an input argument to each function (I call it <code>dbg</code>).</li>
<li>if <code>dbg == false</code>: go for speed and turn off self-testing</li>
<li>if <code>dbg == true</code>, run all self-test code</li>
</ul>
<p>The process is then:</p>
<ol>
<li>Write code. Make sure it runs (correct syntax).</li>
<li>Make sure it is correct (run all self-test code -- slow)</li>
<li>When you are confident that your code is good, set <code>dbg = false</code> and go for speed</li>
<li>But every now and then, randomly switch <code>dbg</code> on so that self tests are run (little cost in terms of run time; a lot of gain in terms of confidence in your code).</li>
</ol>
<h3 id="avoid-literals">Avoid literals<a class="headerlink" href="#avoid-literals" title="Permanent link">&para;</a></h3>
<p>Your code should rarely use specific values for any object. When you refer to an object, do so by its name. </p>
<p>When you see <code>x=zeros([5,3])</code> or <code>for i1 = 1 : 57</code> something is probably wrong.</p>
<p>This kind of code is not maintainable. What if you want 58 values instead of 57? Do you want to go throught 10k LOC to find all occurrences of 57 that need to be replaced?</p>
<p>It is much better to write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span> <span class="n">nTypes</span> <span class="o">=</span> <span class="mi">57</span><span class="p">;</span>
<span class="k">for</span> <span class="n">i1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">nTypes</span>
  <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="k">end</span>
</code></pre></div>

<p>The Golden Rule is: Every literal must have a name. Its value is defined in one place only.</p>
<p>Related to this: do not hard-code <em>functional forms</em>. </p>
<ul>
<li>If you want to compute the marginal product of capital, write a function for it. Otherwise, if you want to switch from Cobb-Douglas to CES, you have to rewrite all your programs.</li>
<li><a href="https://en.wikipedia.org/wiki/Object-oriented_programming">Object oriented programming</a> makes it easy to swap out entire parts of a model. We will talk about this later.</li>
</ul>
<h3 id="avoid-globals">Avoid globals<a class="headerlink" href="#avoid-globals" title="Permanent link">&para;</a></h3>
<p>Globals make it hard to reason about your code (unless they are constant).</p>
<p>Globals make it hard to test your code. You never know who changed them.</p>
<p>A common mistake in economics is to make the model parameters into globals. The reasoning is that they are used everywhere, so they need to be global. This is a terrible idea.</p>
<ul>
<li>It is hard to remember what each parameter exactly means.</li>
<li>One typo that changes a parameter value leads to very interesting debugging sessions.</li>
<li>Where the parameter values are set is hard to keep track of.</li>
</ul>
<p>A much better alternative is to store the parameters inside the model objects.</p>
<h3 id="optimization">Optimization<a class="headerlink" href="#optimization" title="Permanent link">&para;</a></h3>
<p>Optimization refers to program modifications that speed up execution.</p>
<blockquote>
<p>Think before you optimize!</p>
</blockquote>
<p>Most code runs so fast that optimization is simply a waste of time. </p>
<p>Also: Beware of your intuition about where the program spends most of its time.</p>
<p>Here is an example: </p>
<ul>
<li>Consider the function that solves a stochastic OLG model. </li>
<li>It turns out that it spends 80% of its time running the Matlab interpolation function <code>interp1</code>! </li>
<li>There is little point optimizing the rest of the code.</li>
</ul>
<p>To find out what makes your program slow, use a Profiler.</p>
<h2 id="material-for-economists">Material for Economists<a class="headerlink" href="#material-for-economists" title="Permanent link">&para;</a></h2>
<p><a href="http://quant-econ.net/index.html">Quantitative Economics</a> by Sargent and Stachursky</p>
<ul>
<li>a really nice collection of lectures and exercises that covers both programming and the economics of the material (in Julia and Python)</li>
</ul>
<p><a href="http://aida.wss.yale.edu/smith/econ561a/compute6.pdf">Tony Smith: Tips for quantitative work in economics</a></p>
<h2 id="material-not-for-economists">Material Not for Economists<a class="headerlink" href="#material-not-for-economists" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="http://lifehacker.com/top-10-ways-to-teach-yourself-to-code-1684250889">Lifehacker: teach yourself how to code</a></li>
<li>"Clean Code" by Robert Martin is a classic. It uses Java, but the general ideas apply everywhere.</li>
<li>"Writing Solid Code" by Steve Maguire.</li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.3636a4ec.min.js"></script>
      <script src="../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>